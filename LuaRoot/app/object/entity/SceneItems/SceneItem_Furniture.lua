--SceneItem_Furniture : 负责具体加载，关联FurnitureDataModel--[[家具(建筑)具备的功能：    它的外在模型表现从场景物体读取    1.能建筑，建筑的操作功能，    2.具有场景物体的战斗属性值血量，具有所属主人的属性（所属主人为建造玩家）    3.具有策划在场景物体表里指定的功能：添加对应的组件        目前已知的：        i)怪物：当指定怪物时的，它加载怪物的行为组件，此时将怪物的战斗属性值替换场景物体的        ii)工作台的配方，它包含工作台的数据结构和行为    建筑的来源：        1.基本建筑元素：地板、墙等，来源于策划配的地板类型表，由消耗基本建材直接生成，它们不是基本道具，不能回收到背包        2.来源于道具表，从背包里建筑出来，也能回收到背包]]local SceneItem_Furniture = class("SceneItem_Furniture",require("app.object.entity.SceneItem"))local FurnitureDataModel = require("app.object.datamodel.actor.FurnitureDataModel")local ViewFurniture = require("app.object.view.ViewFurniture")local BenchManager = WorkBenchManagerlocal Const = Constfunction SceneItem_Furniture:CreateDataModel()    self.dataModel = FurnitureDataModel.new()endfunction SceneItem_Furniture:CreateView(viewModel)    self.view = ViewFurniture.new(self.dataModel:GetLayer())    if viewModel then        self.view:SetViewModel(viewModel)    endendfunction SceneItem_Furniture:Import(data)    self.dataModel = FurnitureDataModel.new()    self.dataModel:Import(data)endfunction SceneItem_Furniture:OnLoaded()    self:SetObjInfo()    self.view:Locate(self.dataModel.direct, self.dataModel.posIndex)    self:SyncPosFromView()    self.view:PlaceItem()endfunction SceneItem_Furniture:SetByCreate(viewModel,dir,index,updateId)    self:CreateView(viewModel)    self.dataModel:SetLoc(dir,index)    if updateId then        self.dataModel:SetUpdateId(updateId)    end    self:SetObjInfo()    self:SyncPosFromView()endfunction SceneItem_Furniture:SetUpdateInfo(sceneTid,viewModel,updateId)    self.view:SetViewModel(viewModel)    self.dataModel:SetUpdateInfo(sceneTid,updateId)endfunction SceneItem_Furniture:GetActType()    return Const.PlayerCmdType.OPERATEITEMendfunction SceneItem_Furniture:GetUpdateId()    return self.dataModel.updateIdendfunction SceneItem_Furniture:OnAction(user)
    print("use furniture",self.dataModel.tid)
	if self.dataModel:GetParam() then 
		WorkBenchManager:OpenBench(self.dataModel:GetParam()[1],self.dataModel)
	end
endreturn SceneItem_Furniture